import{g as k,E as V,w as F,c as l,M as C,a as p,o as c,b as a,d as t,G as _,F as u,i as I,H as y,h as d,e as m,p as f,y as S,z as P,l as M}from"./vendor.89128711.js";import{_ as j,r as A,l as g,P as h,a as B,A as n,b as H}from"./index.93ad36a7.js";const E={name:"Home",setup(){const r=k("");V(async()=>{try{await A.getRecipes()}catch(i){g.error(i),h.toast(i.message,"error")}}),F(async()=>{try{n.account.id&&await H.getFavorites()}catch(i){g.error(i),h.toast(i.message,"error")}});function o(i){if(i==!1)return e=>!0;if(i=="Favorites")return e=>e.isFavorite==!0;if(i=="myRecipes")return e=>e.creatorId==n.account.id}return{recipeView:r,filterRecipe:o,recipes:l(()=>n.recipes.filter(o(r.value))),activeProvider:l(()=>n.activeRecipe),account:l(()=>n.account),favorites:l(()=>n.favorites),createRecipe(){C.getOrCreateInstance(document.getElementById("recipe-form")).show()},async login(){B.loginWithPopup()}}}},b=r=>(S("data-v-55d4852c"),r=r(),P(),r),N={class:"row justify-content-center"},z={class:"col-md-6 overflow"},Y={class:"d-flex rounded text-primary justify-content-around bg-light elevation-3 p-3 m-3 align-items-center"},G={class:"row"},L={key:0,class:"col-12"},O={class:"d-flex justify-content-center"},T={key:0,class:"text-muted"},W={key:1,class:"text-muted"},q=M("You have not added any recipes. "),D=b(()=>t("a",{href:""},null,-1)),J=[q,D],K={key:2,class:""},Q=b(()=>t("span",{class:"text-muted"},"You must be signed in to view your recipes or favorites. ",-1)),U={class:"text-center mt-3"},X={class:"position-fixed bottom-0 end-0 text-primary add-icon grow"};function Z(r,o,i,e,$,ee){const w=p("Recipe"),x=p("ActiveRecipe"),v=p("Modal"),R=p("RecipeForm");return c(),a(u,null,[t("div",N,[t("div",z,[t("div",Y,[t("span",{class:_([e.recipeView?"selectable p-2":"selectable bg-primary rounded p-2 elevation-2"]),onClick:o[0]||(o[0]=s=>e.recipeView="")},"Home",2),t("span",{class:_([e.recipeView=="myRecipes"?"selectable bg-primary rounded p-2 elevation-2":"selectable p-2"]),onClick:o[1]||(o[1]=s=>e.recipeView="myRecipes"),href:""}," My Recipes",2),t("span",{class:_([e.recipeView=="Favorites"?"selectable bg-primary rounded p-2 elevation-2":"selectable p-2"]),onClick:o[2]||(o[2]=s=>e.recipeView="Favorites")},"Favorites",2)])])]),t("div",G,[(c(!0),a(u,null,I(e.recipes,s=>(c(),y(w,{key:s.id,recipe:s},null,8,["recipe"]))),128)),e.recipes.length<1?(c(),a("div",L,[t("div",O,[e.recipeView=="Favorites"&&e.account.id?(c(),a("span",T,"You have not added any recipes to your favorites ")):d("",!0),e.recipeView=="myRecipes"&&e.account.id?(c(),a("span",W,J)):d("",!0),e.account.id?d("",!0):(c(),a("div",K,[Q,t("div",U,[t("button",{onClick:o[3]||(o[3]=(...s)=>e.login&&e.login(...s)),class:"btn btn-primary"},"Sign In")])]))])])):d("",!0)]),t("div",X,[t("i",{onClick:o[4]||(o[4]=(...s)=>e.createRecipe&&e.createRecipe(...s)),class:"mdi mdi-plus-circle selectable",style:{"font-size":"60px"}})]),m(v,{id:"active-recipe"},{body:f(()=>[e.activeProvider.id?(c(),y(x,{key:0})):d("",!0)]),_:1}),m(v,{id:"recipe-form"},{body:f(()=>[m(R)]),_:1})],64)}var ie=j(E,[["render",Z],["__scopeId","data-v-55d4852c"]]);export{ie as default};
